{"version":3,"sources":["./node_modules/@ionic-native/photo-viewer/__ivy_ngcc__/ngx/index.js","./src/app/conversation/conversation.page.html","./src/app/conversation/conversation-routing.module.ts","./src/app/conversation/conversation.module.ts","./src/app/conversation/conversation.page.scss","./src/app/conversation/conversation.page.ts"],"names":[],"mappings":"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","file":"conversation-conversation-module-es2015.js","sourcesContent":["import { __extends } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { IonicNativePlugin, cordova } from '@ionic-native/core';\nimport * as ɵngcc0 from '@angular/core';\nvar PhotoViewer = /** @class */ (function (_super) {\n    __extends(PhotoViewer, _super);\n    function PhotoViewer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PhotoViewer.prototype.show = function (url, title, options) { return cordova(this, \"show\", { \"sync\": true }, arguments); };\n    PhotoViewer.pluginName = \"PhotoViewer\";\n    PhotoViewer.plugin = \"com-sarriaroman-photoviewer\";\n    PhotoViewer.pluginRef = \"PhotoViewer\";\n    PhotoViewer.repo = \"https://github.com/sarriaroman/photoviewer\";\n    PhotoViewer.platforms = [\"Android\", \"iOS\"];\nPhotoViewer.ɵfac = function PhotoViewer_Factory(t) { return ɵPhotoViewer_BaseFactory(t || PhotoViewer); };\nPhotoViewer.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: PhotoViewer, factory: function (t) { return PhotoViewer.ɵfac(t); } });\nvar ɵPhotoViewer_BaseFactory = /*@__PURE__*/ ɵngcc0.ɵɵgetInheritedFactory(PhotoViewer);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(PhotoViewer, [{\n        type: Injectable\n    }], null, null); })();\n    return PhotoViewer;\n}(IonicNativePlugin));\nexport { PhotoViewer };\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9AaW9uaWMtbmF0aXZlL3BsdWdpbnMvcGhvdG8tdmlld2VyL25neC9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLDhCQUFzQyxNQUFNLG9CQUFvQixDQUFDOztBQUN4RTtBQUdRLElBb0R5QiwrQkFBaUI7QUFBQztBQUU5QjtBQUVSO0FBQU0sSUFJakIsMEJBQUksYUFBQyxHQUFXLEVBQUUsS0FBYyxFQUFFLE9BQTRCO0FBRVg7QUFBNEM7QUFBd0Q7QUFBMkM7QUFBcUU7K0NBWHhRLFVBQVU7Ozs7OzBCQUNMO0FBQUMsc0JBekRQO0FBQUUsRUF5RCtCLGlCQUFpQjtBQUNqRCxTQURZLFdBQVc7QUFBSSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvcmRvdmEsIElvbmljTmF0aXZlUGx1Z2luLCBQbHVnaW4gfSBmcm9tICdAaW9uaWMtbmF0aXZlL2NvcmUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBob3RvVmlld2VyT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSB0aGUgc2hhcmUgYnV0dG9uIChBbmRyb2lkIG9ubHkpLiBEZWZhdWx0OiB0cnVlXG4gICAqL1xuICBzaGFyZT86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBBZGQgSFRUUCBoZWFkZXJzIHRvIHRoZSByZXF1ZXN0LiAgVXNlZnVsIGZvciBhdXRoZW50aWNhdGVkIHBhZ2VzLlxuICAgKiBUaGUgdmFsdWUgaXMgYSBzdHJpbmcgaW4gYSBKU09OIGZvcm1hdC4gIERlZmF1bHQ6ICcnXG4gICAqL1xuICBoZWFkZXJzPzogc3RyaW5nO1xuICAvKipcbiAgICogT3B0aW9uIGZvciBjbG9zZSBidXR0b24gdmlzaWJpbGl0eSB3aGVuIHNoYXJlIGZhbHNlIFtPTkxZIEZPUiBpT1NdXG4gICAqL1xuICBjbG9zZUJ1dHRvbj86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBJZiB5b3UgbmVlZCB0byBjb3B5IGltYWdlIHRvIHJlZmVyZW5jZSBiZWZvcmUgc2hvdyB0aGVuIHNldCBpdCB0cnVlIFtPTkxZIEZPUiBpT1NdXG4gICAqL1xuICBjb3B5VG9SZWZlcmVuY2U/OiBib29sZWFuO1xuICAvKipcbiAgICogRW5hYmxlIG9yIERpc2FibGUgUGljYXNzbyBPcHRpb25zICggT25seSBBbmRyb2lkICk6IGZpdCwgY2VudGVySW5zaWRlLCBjZW50ZXJDcm9wLlxuICAgKi9cbiAgcGljY2Fzb09wdGlvbnM/OiB7XG4gICAgZml0PzogYm9vbGVhbjtcbiAgICBjZW50ZXJJbnNpZGU/OiBib29sZWFuO1xuICAgIGNlbnRlckNyb3A/OiBib29sZWFuO1xuICB9O1xufVxuXG4vKipcbiAqIEBuYW1lIFBob3RvIFZpZXdlclxuICogQGRlc2NyaXB0aW9uIFRoaXMgcGx1Z2luIGNhbiBkaXNwbGF5IHlvdXIgaW1hZ2UgaW4gZnVsbCBzY3JlZW4gd2l0aCB0aGUgYWJpbGl0eSB0byBwYW4sIHpvb20sIGFuZCBzaGFyZSB0aGUgaW1hZ2UuXG4gKiBAdXNhZ2VcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IFBob3RvVmlld2VyIH0gZnJvbSAnQGlvbmljLW5hdGl2ZS9waG90by12aWV3ZXIvbmd4JztcbiAqXG4gKiBjb25zdHJ1Y3Rvcihwcml2YXRlIHBob3RvVmlld2VyOiBQaG90b1ZpZXdlcikgeyB9XG4gKlxuICogLi4uXG4gKlxuICogdGhpcy5waG90b1ZpZXdlci5zaG93KCdodHRwczovL215c2l0ZS5jb20vcGF0aC90by9pbWFnZS5qcGcnKTtcbiAqXG4gKiB0aGlzLnBob3RvVmlld2VyLnNob3coJ2h0dHBzOi8vbXlzaXRlLmNvbS9wYXRoL3RvL2ltYWdlLmpwZycsICdNeSBpbWFnZSB0aXRsZScsIHtzaGFyZTogZmFsc2V9KTtcbiAqXG4gKiB0aGlzLnBob3RvVmlld2VyLnNob3coJ2h0dHBzOi8vbXlzZWN1cmVzaXRlLmNvbS9wYXRoL3RvL2ltYWdlLmpwZycsICdNeSBpbWFnZSB0aXRsZScsIHtzaGFyZTogZmFsc2UsIGhlYWRlcnM6ICd7dXNlcm5hbWU6Zm9vLHBhc3N3b3JkOmJhcn0nfSk7XG4gKiBgYGBcbiAqL1xuQFBsdWdpbih7XG4gIHBsdWdpbk5hbWU6ICdQaG90b1ZpZXdlcicsXG4gIHBsdWdpbjogJ2NvbS1zYXJyaWFyb21hbi1waG90b3ZpZXdlcicsXG4gIHBsdWdpblJlZjogJ1Bob3RvVmlld2VyJyxcbiAgcmVwbzogJ2h0dHBzOi8vZ2l0aHViLmNvbS9zYXJyaWFyb21hbi9waG90b3ZpZXdlcicsXG4gIHBsYXRmb3JtczogWydBbmRyb2lkJywgJ2lPUyddLFxufSlcbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBQaG90b1ZpZXdlciBleHRlbmRzIElvbmljTmF0aXZlUGx1Z2luIHtcbiAgLyoqXG4gICAqIFNob3dzIGFuIGltYWdlIGluIGZ1bGwgc2NyZWVuXG4gICAqIEBwYXJhbSB1cmwge3N0cmluZ30gVVJMIG9yIHBhdGggdG8gaW1hZ2VcbiAgICogQHBhcmFtIHRpdGxlIHtzdHJpbmd9XG4gICAqIEBwYXJhbSBvcHRpb25zIHtQaG90b1ZpZXdlck9wdGlvbnN9XG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgc2hvdyh1cmw6IHN0cmluZywgdGl0bGU/OiBzdHJpbmcsIG9wdGlvbnM/OiBQaG90b1ZpZXdlck9wdGlvbnMpOiB2b2lkIHt9XG59XG4iXX0=","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button color=\\\"dark\\\" text=\\\"\\\" defaultHref=\\\"/tabs/chat\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-avatar slot=\\\"start\\\" class=\\\"contact-avatar\\\">\\n      <img [src]=\\\"chatTo?.profilePic\\\" onError=\\\"this.src='./assets/user.svg'\\\">\\n    </ion-avatar>\\n    <ion-title class=\\\"lang-{{currentLang}}\\\">\\n      <ion-label>\\n        <h2>{{ chatTo.name }}</h2>\\n        <small>{{ chatTo.isOnline }}</small>\\n      </ion-label>\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content class=\\\"ion-padding-bottom\\\">\\n  <ion-infinite-scroll threshold=\\\"100px\\\" position=\\\"top\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n    <ion-infinite-scroll-content disabled=\\\"true\\\" loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Loading chat...\\\">\\n    </ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n  <div class=\\\"chat-container\\\">\\n    <div *ngFor=\\\"let item of oldMsgs\\\">\\n      <div *ngFor=\\\"let message of item; let i=index\\\" class=\\\"chat-bubble old-bubble\\\"\\n        [ngClass]=\\\"[message.cstatus, message.media.type]\\\">\\n        <img [src]=\\\"path + message.media.url\\\" onError=\\\"this.src='./assets/no-image.svg'\\\" *ngIf=\\\"message.media.type == 'image'\\\"\\n          (click)=\\\"showPreview(path + message.media.url)\\\" />\\n        <h6 *ngIf=\\\"message.media.type == 'text' || message.media.type == 'image'\\\">{{ message.message }}</h6>\\n        <div class=\\\"topic-details\\\" *ngIf=\\\"message.media.type == 'topic'\\\">\\n          <div class=\\\"topic-image\\\">\\n            <img [src]=\\\"path + message.media.topics.banner\\\" onError=\\\"this.src='./assets/no-image.svg'\\\">\\n          </div>\\n          <div class=\\\"topic-content\\\">\\n            <h6>{{ currentLang == 'en' ? message.media.topics.title : message.media.topics.title_ar }}</h6>\\n          </div>\\n        </div>\\n        <p>{{ message.createdOn | date: 'EEE MMM, yyyy hh:mm a' }}</p>\\n      </div>\\n    </div>\\n    <div *ngFor=\\\"let message of messages; let i=index\\\" class=\\\"chat-bubble\\\" [ngClass]=\\\"[message.status, message.type]\\\">\\n      <img [src]=\\\"path + message.url\\\" onError=\\\"this.src='./assets/no-image.svg'\\\" *ngIf=\\\"message.type == 'image'\\\" (click)=\\\"showPreview(path + message.url)\\\" />\\n      <h6 *ngIf=\\\"message.type == 'text' || message.type == 'image'\\\">{{ message.text }}</h6>\\n      <div class=\\\"topic-details\\\" *ngIf=\\\"message.type == 'topic'\\\">\\n        <div class=\\\"topic-image\\\">\\n          <img [src]=\\\"path + message.url\\\" onError=\\\"this.src='./assets/no-image.svg'\\\">\\n        </div>\\n        <div class=\\\"topic-content\\\">\\n          <h6>{{ message.text }}</h6>\\n        </div>\\n      </div>\\n      <p>{{ message.createdOn | date: 'EEE MMM, yyyy hh:mm a' }}</p>\\n    </div>\\n  </div>\\n  <!-- <input type=\\\"file\\\" name=\\\"uploadImage\\\" id=\\\"uploadImage\\\" (change)=\\\"upload($event.target.files)\\\"> -->\\n</ion-content>\\n<ion-footer>\\n  <div class=\\\"chat-controls\\\">\\n    <ion-row class=\\\"bg-white ion-align-items-center footer\\\">\\n      <ion-col size=\\\"2\\\" class=\\\"ion-no-padding\\\">\\n        <p class=\\\"ion-text-center icon-controls\\\">\\n          <ion-icon mode=\\\"ios\\\" name=\\\"add\\\" *ngIf=\\\"!showOptions\\\" (click)=\\\"selectImage()\\\"></ion-icon>\\n          <ion-icon mode=\\\"ios\\\" color=\\\"danger\\\" name=\\\"close\\\" *ngIf=\\\"showOptions\\\"></ion-icon>\\n        </p>\\n      </ion-col>\\n      <ion-col size=\\\"8\\\" class=\\\"ion-no-padding\\\">\\n        <ion-list lines=\\\"none\\\" class=\\\"ion-no-padding\\\">\\n          <ion-item>\\n            <ion-input placeholder=\\\"Type your message\\\" type=\\\"text\\\" [(ngModel)]=\\\"message\\\"></ion-input>\\n          </ion-item>\\n        </ion-list>\\n      </ion-col>\\n      <ion-col size=\\\"2\\\" class=\\\"ion-no-padding\\\">\\n        <p class=\\\"ion-text-center icon-controls\\\">\\n          <ion-icon mode=\\\"ios\\\" name=\\\"send\\\" class=\\\"text-primary\\\" (click)=\\\"sendMsgType('text')\\\"></ion-icon>\\n        </p>\\n      </ion-col>\\n    </ion-row>\\n  </div>\\n</ion-footer>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ConversationPage } from './conversation.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ConversationPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ConversationPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ConversationPageRoutingModule } from './conversation-routing.module';\n\nimport { ConversationPage } from './conversation.page';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { PhotoViewer } from '@ionic-native/photo-viewer/ngx';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ConversationPageRoutingModule\n  ],\n  providers:[Camera, PhotoViewer],\n  declarations: [ConversationPage]\n})\nexport class ConversationPageModule {}\n","export default \"ion-toolbar {\\n  --border-color: transparent;\\n  align-items: center;\\n  display: flex;\\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\\n}\\n\\nion-title {\\n  margin-left: 10px;\\n}\\n\\nion-title.lang-ar {\\n  text-align: right;\\n}\\n\\nion-title.lang-en {\\n  text-align: left;\\n}\\n\\nion-title h2 {\\n  font-weight: 500;\\n  margin: 0;\\n}\\n\\nion-back-button {\\n  color: #000;\\n}\\n\\n.contact-avatar {\\n  height: 40px;\\n  width: 40px;\\n  margin-left: 8px;\\n}\\n\\n.icon-controls ion-icon {\\n  font-size: 2rem;\\n}\\n\\nion-item {\\n  --padding-start: 0px;\\n}\\n\\n.chat-bubble {\\n  width: auto;\\n  max-width: 75%;\\n  min-width: 25%;\\n  border-radius: 25px;\\n  padding: 8px 16px;\\n  margin: 10px;\\n  display: block;\\n  clear: both;\\n  position: relative;\\n  margin-bottom: 0;\\n}\\n\\n.chat-bubble.topic {\\n  border-radius: 10px;\\n  padding: 8px;\\n}\\n\\n.chat-bubble.received {\\n  background: #F5F5F5;\\n  float: left;\\n}\\n\\n.chat-bubble.received p {\\n  color: #000 !important;\\n}\\n\\n.chat-bubble.send {\\n  background: var(--ion-color-primary);\\n  float: right;\\n  text-align: left;\\n  color: #fff;\\n  transition: all 0.3s;\\n}\\n\\n.chat-bubble .topic-details {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.chat-bubble .topic-details .topic-image img {\\n  border-radius: 10px;\\n}\\n\\n.chat-bubble.image {\\n  padding: 8px;\\n  border-radius: 10px;\\n}\\n\\n.chat-bubble.image img {\\n  border-radius: 10px;\\n}\\n\\n.chat-bubble h6 {\\n  margin: 0;\\n  font-weight: 400;\\n}\\n\\n.chat-bubble p {\\n  margin: 0;\\n  margin-top: 4px;\\n  font-size: 10px;\\n  opacity: 0.6;\\n}\\n\\n::ng-deep .my-custom-class .modal-wrapper {\\n  height: 70vh;\\n  margin-top: auto;\\n  border-top-right-radius: 33px;\\n  border-top-left-radius: 33px;\\n}\\n\\n::ng-deep .request-view-modal .modal-wrapper {\\n  max-height: 320px;\\n  min-height: -webkit-max-content;\\n  min-height: -moz-max-content;\\n  min-height: max-content;\\n  margin-top: auto;\\n  border-top-right-radius: 33px;\\n  border-top-left-radius: 33px;\\n}\\n\\n::ng-deep .swiper-pagination-bullet {\\n  width: 6px;\\n  height: 6px;\\n}\\n\\n::ng-deep .swiper-pagination-bullets {\\n  bottom: 10px !important;\\n}\\n\\n::ng-deep .swiper-pagination-bullet-active {\\n  width: 8px;\\n  height: 8px;\\n}\\n\\n@-webkit-keyframes fade {\\n  0% {\\n    opacity: 0;\\n  }\\n  100% {\\n    opacity: 1;\\n  }\\n}\\n\\n@keyframes fade {\\n  0% {\\n    opacity: 0;\\n  }\\n  100% {\\n    opacity: 1;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29udmVyc2F0aW9uL2NvbnZlcnNhdGlvbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSwyQkFBQTtFQUVBLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLHlDQUFBO0FBQUo7O0FBR0E7RUFPSSxpQkFBQTtBQU5KOztBQUFJO0VBQ0ksaUJBQUE7QUFFUjs7QUFBSTtFQUNJLGdCQUFBO0FBRVI7O0FBRUk7RUFDSSxnQkFBQTtFQUNBLFNBQUE7QUFBUjs7QUFJQTtFQUNJLFdBQUE7QUFESjs7QUFNQTtFQUNJLFlBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7QUFISjs7QUFPSTtFQUNJLGVBQUE7QUFKUjs7QUFTQTtFQUNJLG9CQUFBO0FBTko7O0FBU0E7RUFDSSxXQUFBO0VBQ0EsY0FBQTtFQUNBLGNBQUE7RUFDQSxtQkFBQTtFQUNBLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLGNBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtBQU5KOztBQU9JO0VBQ0ksbUJBQUE7RUFDQSxZQUFBO0FBTFI7O0FBUUk7RUFDSSxtQkFBQTtFQUNBLFdBQUE7QUFOUjs7QUFPUTtFQUNJLHNCQUFBO0FBTFo7O0FBU0k7RUFDSSxvQ0FBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7RUFFQSxvQkFBQTtBQVBSOztBQVVJO0VBQ0ksYUFBQTtFQUVBLHNCQUFBO0FBVFI7O0FBWVk7RUFDSSxtQkFBQTtBQVZoQjs7QUFrQkk7RUFDSSxZQUFBO0VBQ0EsbUJBQUE7QUFoQlI7O0FBa0JRO0VBQ0ksbUJBQUE7QUFoQlo7O0FBb0JJO0VBQ0ksU0FBQTtFQUNBLGdCQUFBO0FBbEJSOztBQXFCSTtFQUNJLFNBQUE7RUFDQSxlQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7QUFuQlI7O0FBK0JJO0VBQ0ksWUFBQTtFQUNBLGdCQUFBO0VBQ0EsNkJBQUE7RUFDQSw0QkFBQTtBQTVCUjs7QUFpQ0k7RUFDSSxpQkFBQTtFQUNBLCtCQUFBO0VBQUEsNEJBQUE7RUFBQSx1QkFBQTtFQUNBLGdCQUFBO0VBQ0EsNkJBQUE7RUFDQSw0QkFBQTtBQTlCUjs7QUFrQ0E7RUFDSSxVQUFBO0VBQ0EsV0FBQTtBQS9CSjs7QUFrQ0E7RUFDSSx1QkFBQTtBQS9CSjs7QUFrQ0E7RUFDSSxVQUFBO0VBQ0EsV0FBQTtBQS9CSjs7QUFrQ0E7RUFDSTtJQUNJLFVBQUE7RUEvQk47RUFrQ0U7SUFDSSxVQUFBO0VBaENOO0FBQ0Y7O0FBeUJBO0VBQ0k7SUFDSSxVQUFBO0VBL0JOO0VBa0NFO0lBQ0ksVUFBQTtFQWhDTjtBQUNGIiwiZmlsZSI6InNyYy9hcHAvY29udmVyc2F0aW9uL2NvbnZlcnNhdGlvbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tdG9vbGJhciB7XG4gICAgLS1ib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xuICAgIC8vaGVpZ2h0OiA2MHB4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBib3gtc2hhZG93OiAwIDNweCA2cHggcmdiYSgwLCAwLCAwLCAwLjE2KTtcbn1cblxuaW9uLXRpdGxlIHtcbiAgICAmLmxhbmctYXJ7XG4gICAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgIH1cbiAgICAmLmxhbmctZW57XG4gICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgfVxuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuXG4gICAgaDIge1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgfVxufVxuXG5pb24tYmFjay1idXR0b24ge1xuICAgIGNvbG9yOiAjMDAwO1xufVxuXG5cblxuLmNvbnRhY3QtYXZhdGFyIHtcbiAgICBoZWlnaHQ6IDQwcHg7XG4gICAgd2lkdGg6IDQwcHg7XG4gICAgbWFyZ2luLWxlZnQ6IDhweDtcbn1cblxuLmljb24tY29udHJvbHMge1xuICAgIGlvbi1pY29uIHtcbiAgICAgICAgZm9udC1zaXplOiAycmVtO1xuICAgIH1cbn1cblxuXG5pb24taXRlbSB7XG4gICAgLS1wYWRkaW5nLXN0YXJ0OiAwcHg7XG59XG5cbi5jaGF0LWJ1YmJsZSB7XG4gICAgd2lkdGg6IGF1dG87XG4gICAgbWF4LXdpZHRoOiA3NSU7XG4gICAgbWluLXdpZHRoOiAyNSU7XG4gICAgYm9yZGVyLXJhZGl1czogMjVweDtcbiAgICBwYWRkaW5nOiA4cHggMTZweDtcbiAgICBtYXJnaW46IDEwcHg7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgY2xlYXI6IGJvdGg7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIG1hcmdpbi1ib3R0b206IDA7XG4gICAgJi50b3BpY3tcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICAgICAgcGFkZGluZzogOHB4O1xuICAgIH1cblxuICAgICYucmVjZWl2ZWQge1xuICAgICAgICBiYWNrZ3JvdW5kOiAjRjVGNUY1O1xuICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgICAgcHtcbiAgICAgICAgICAgIGNvbG9yOiAjMDAwICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAmLnNlbmQge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gICAgICAgIGZsb2F0OiByaWdodDtcbiAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIC4zcztcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIC4zcztcbiAgICB9XG5cbiAgICAudG9waWMtZGV0YWlscyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIC8vIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG5cbiAgICAgICAgLnRvcGljLWltYWdlIHtcbiAgICAgICAgICAgIGltZyB7XG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC50b3BpYy1jb250ZW50IHtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICYuaW1hZ2Uge1xuICAgICAgICBwYWRkaW5nOiA4cHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG5cbiAgICAgICAgaW1nIHtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoNiB7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICB9XG5cbiAgICBwIHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBtYXJnaW4tdG9wOiA0cHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgICAgICAgb3BhY2l0eTogMC42XG4gICAgfVxufVxuXG4uY2hhdC1jb250YWluZXIge1xuICAgIC8vIGhlaWdodDogY2FsYygxMDAlIC0gNjBweCk7XG4gICAgLy8gcGFkZGluZy1ib3R0b206IDMwcHg7XG4gICAgLy8gb3ZlcmZsb3c6IHNjcm9sbDtcbn1cblxuXG46Om5nLWRlZXAgLm15LWN1c3RvbS1jbGFzcyB7XG4gICAgLm1vZGFsLXdyYXBwZXIge1xuICAgICAgICBoZWlnaHQ6IDcwdmg7XG4gICAgICAgIG1hcmdpbi10b3A6IGF1dG87XG4gICAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAzM3B4O1xuICAgICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAzM3B4O1xuICAgIH1cbn1cblxuOjpuZy1kZWVwIC5yZXF1ZXN0LXZpZXctbW9kYWwge1xuICAgIC5tb2RhbC13cmFwcGVyIHtcbiAgICAgICAgbWF4LWhlaWdodDogMzIwcHg7XG4gICAgICAgIG1pbi1oZWlnaHQ6IG1heC1jb250ZW50O1xuICAgICAgICBtYXJnaW4tdG9wOiBhdXRvO1xuICAgICAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMzNweDtcbiAgICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMzNweDtcbiAgICB9XG59XG5cbjo6bmctZGVlcCAuc3dpcGVyLXBhZ2luYXRpb24tYnVsbGV0IHtcbiAgICB3aWR0aDogNnB4O1xuICAgIGhlaWdodDogNnB4O1xufVxuXG46Om5nLWRlZXAgLnN3aXBlci1wYWdpbmF0aW9uLWJ1bGxldHMge1xuICAgIGJvdHRvbTogMTBweCAhaW1wb3J0YW50O1xufVxuXG46Om5nLWRlZXAgLnN3aXBlci1wYWdpbmF0aW9uLWJ1bGxldC1hY3RpdmUge1xuICAgIHdpZHRoOiA4cHg7XG4gICAgaGVpZ2h0OiA4cHg7XG59XG5cbkBrZXlmcmFtZXMgZmFkZSB7XG4gICAgMCUge1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgIH1cblxuICAgIDEwMCUge1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgIH1cbn0iXX0= */\";","import { UtilService } from './../_services/util.service';\nimport { Component, OnInit, ViewChild } from '@angular/core';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { ActionSheetController, IonContent, IonInfiniteScroll, ModalController } from '@ionic/angular';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { PhotoViewer } from '@ionic-native/photo-viewer/ngx';\nimport { ApiService } from '../_services/api.service';\nimport { environment } from 'src/environments/environment';\nimport { HelperService } from '../_services/helper.service';\n\n@Component({\n  selector: 'app-conversation',\n  templateUrl: './conversation.page.html',\n  styleUrls: ['./conversation.page.scss'],\n})\nexport class ConversationPage implements OnInit {\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\n  @ViewChild(IonContent, { read: IonContent, static: false }) myContent: IonContent;\n  propertyList: any = [];\n  contactInfo: any = {\n    name: 'Lisa',\n  }\n  path = environment.domain;\n  myProfile: any;\n  message: any;\n  show: boolean = false;\n  showOptions: boolean = false;\n  chatServiceConnection: any;\n  oldMsgs: any = [];\n\n  public messages = [\n  ];\n\n  image: any = '';\n  chatTo: any;\n  currentLang: any;\n\n  constructor(private camera: Camera, private modalCtrl: ModalController,\n    private actionSheetController: ActionSheetController, private photoViewer: PhotoViewer,\n    private router: Router, private route: ActivatedRoute,\n    private utilService: UtilService,\n    private helperService: HelperService,\n    private service: ApiService) {\n    this.currentLang = this.helperService.getLang();\n    //this.ScrollToBottom();\n    this.route.queryParams.subscribe(_res => {\n      this.chatTo = _res;\n      this.getChatHistory();\n      this.gtAdvisorById(this.chatTo.id, '1');\n    })\n\n    if (localStorage.getItem('currentUser')) {\n      this.myProfile = JSON.parse(localStorage.getItem('currentUser'));\n    }\n  }\n\n\n\n  ngOnInit() {\n    let self = this; \n    this.chatServiceConnection = this.utilService.chatService();\n    this.chatServiceConnection.start().then(function () {\n      console.log('connected....');\n      if (self.chatTo.topicId) {\n        //self.sendMessage('image', selectedCat.name, data.scanImageUrl, null);\n        // self.messages.push({ url: '', status: 'send', createdOn: new Date(), type: 'topic' })\n        self.getTopicById(self.chatTo.topicId);\n      }\n      if (self.chatTo.type == 'scanned') {\n        var data = JSON.parse(localStorage.getItem('scannedImage'));\n        var selectedCat = JSON.parse(localStorage.getItem('selectedCat'));\n        var extra = window.atob(localStorage.getItem('extra'));\n        console.log(selectedCat);\n        self.sendMessage('image', selectedCat.name, data.scanImageUrl, null);\n        self.messages.push({ text: self.currentLang == 'en' ? selectedCat.name : selectedCat.name_ar, url: data.scanImageUrl, status: 'send', createdOn: new Date(), type: 'image' });\n        setTimeout(() => {\n          self.sendMessage('text', extra, null, null);\n          self.messages.push({ text: extra, url: null, status: 'send', createdOn: new Date(), type: 'text' });\n        }, 100);\n        localStorage.removeItem('scannedImage');\n        localStorage.removeItem('selectedCat');\n        localStorage.removeItem('extra');\n      }\n\n      if (self.chatTo.type == 'animal') {\n        var extra = window.atob(localStorage.getItem('extra'));\n        self.messages.push({ text: extra, url: null, status: 'send', createdOn: new Date(), type: 'text' });\n        self.sendMessage('text', extra, null, null);\n        setTimeout(() => {\n          localStorage.removeItem('extra');\n        }, 100);\n      }\n\n    }).catch(function (err) {\n      console.error(err.toString());\n    });\n    this.chatServiceConnection.on(\"ReceiveMessage\", function (message) {\n      (new Audio('./assets/music/tune.mp3')).play();\n      //var msg = message.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\n      self.messages.push({\n        username: message.fromUser.name,\n        text: message.message,\n        type: message.media.type,\n        createdOn: message.createdOn,\n        status: 'received'\n      });\n      self.ScrollToBottom();\n    });\n  }\n\n  ngAfterViewInit() {\n    this.infiniteScroll.disabled = true;\n  }\n\n  gtAdvisorById(id, type){\n      this.service.advisorById(id).subscribe(_res=>{\n        let chatToObj = JSON.parse(JSON.stringify(this.chatTo));\n        if(_res.data?.profilePic){\n          if(type == '1'){\n            chatToObj['profilePic'] = this.path + _res.data?.profilePic;\n          }\n          if(_res.data?.chatStatus){\n            chatToObj['isOnline'] = _res.data?.chatStatus\n          }\n          this.chatTo = chatToObj;\n        } else {\n          chatToObj['profilePic'] = '';\n          this.chatTo = chatToObj;\n        }\n     })\n  }\n\n\n  getChatHistory() {\n    var payload = {\n      \"toUserId\": this.chatTo.id,\n      \"pageFrom\": 0,\n      \"pageSize\": 10\n    };\n    this.helperService.show();\n    this.service.getChatHistory(payload).subscribe(_res => {\n      this.oldMsgs = _res;\n      this.helperService.hide();\n      this.oldMsgs.forEach(_item => {\n        _item.reverse();\n        _item.forEach(_itm => {\n          if (_itm.fromUsersId == this.myProfile.usersId) {\n            _itm.cstatus = 'send';\n          } else {\n            _itm.cstatus = 'received';\n          }\n        });\n      });\n      this.infiniteScroll.disabled = false;\n      //event.target.disabled = true;\n      this.ScrollToBottom();\n    })\n  }\n\n  getTopicById(_id) {\n    this.service.getTopicById(_id).subscribe(_res => {\n      this.messages.push({ url: _res.banner, text: this.currentLang == 'en' ? _res.title : _res.title_ar, status: 'send', createdOn: new Date(), type: 'topic' });\n      this.sendMessage('topic', 'Topic', '', _id);\n      if (this.chatTo.type == 'newchat') {\n        var extra = window.atob(localStorage.getItem('extra'));\n        setTimeout(() => {\n          this.messages.push({ text: extra, url: null, status: 'send', createdOn: new Date(), type: 'text' });\n          this.sendMessage('text', extra, null, null);\n        }, 100);\n        localStorage.removeItem('extra');\n      }\n    })\n  }\n\n  ScrollToBottom() {\n    setTimeout(() => {\n      this.myContent.scrollToBottom(300);\n    }, 100);\n  }\n\n  upload(files: FileList) {\n    let me = this;\n    let file = files[0]\n    let reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = function () {\n      console.log(reader.result);\n      me.image = reader.result;\n      me.uploadImage(reader.result);\n    };\n    reader.onerror = function (error) {\n      console.log('Error: ', error);\n    };\n  }\n\n  uploadImage(_base64) {\n    var Payload = {\n      fileContent: {\n        \"base64\": _base64,\n        \"filename\": \"sample.jpeg\"\n      }\n    };\n    this.service.uploadChatImage(Payload).subscribe(_res => {\n      this.sendMessage('image', null, _res.scanImageUrl, null);\n      this.messages.push({ url: _res.scanImageUrl, status: 'send', createdOn: new Date(), type: 'image' })\n    })\n  }\n\n  sendMsgType(_type) {\n    switch (_type) {\n      case 'text':\n        var msg = this.message.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\n        if(msg){\n          this.messages.push({ text: msg, status: 'send', createdOn: new Date(), type: 'text' });\n        this.message = undefined;\n        this.sendMessage('text', msg, null, null);\n        }\n        return;\n\n      case 'image':\n\n        return;\n\n      case 'text':\n\n        return;\n\n      default:\n        break;\n    }\n  }\n\n  sendMessage(_type, _msg, _url, _topic) {\n    var send = {\n      \"toUsersId\": this.chatTo.id,\n      \"message\": _msg,\n      \"transaction\": \"in\",\n      \"media\": {\n        \"type\": _type,\n        \"url\": _type == 'image' ? _url : null,\n        \"topicId\": _topic ? _topic : null\n      }\n    }\n    console.log('send', send);\n    this.chatServiceConnection.invoke('Send2User', JSON.stringify(send)).catch((err) => {\n      return console.error(err.toString());\n    });\n    this.ScrollToBottom();\n    this.gtAdvisorById(this.chatTo.id, '2');\n  }\n\n  async selectImage() {\n    const actionSheet = await this.actionSheetController.create({\n      header: \"Select Image source\",\n      buttons: [{\n        text: 'Load from Library',\n        handler: () => {\n          this.pickImage(this.camera.PictureSourceType.PHOTOLIBRARY);\n        }\n      },\n      {\n        text: 'Use Camera',\n        handler: () => {\n          this.pickImage(this.camera.PictureSourceType.CAMERA);\n        }\n      },\n      {\n        text: 'Cancel',\n        role: 'cancel'\n      }\n      ]\n    });\n    await actionSheet.present();\n  }\n\n  pickImage(sourceType) {\n    const options: CameraOptions = {\n      quality: 100,\n      sourceType: sourceType,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n      allowEdit: false\n    }\n    this.camera.getPicture(options).then((imageData) => {\n      // imageData is either a base64 encoded string or a file URI\n      //this.image = 'data:image/jpeg;base64,' + imageData;\n      var Payload = {\n        fileContent: {\n          \"base64\": 'data:image/jpeg;base64,' + imageData,\n          \"filename\": \"sample.jpeg\"\n        }\n      };\n      this.helperService.show();\n      this.service.uploadChatImage(Payload).subscribe(_res => {\n        this.helperService.hide();\n        this.sendMessage('image', null, _res.scanImageUrl, null);\n        this.messages.push({ url: _res.scanImageUrl, status: 'send', createdOn: new Date(), type: 'image' })\n      })\n      //this.image = (<any>window).Ionic.WebView.convertFileSrc(imageData);\n      console.log('image', this.image);\n    }, (err) => {\n      // Handle error\n    });\n  }\n\n  showPreview(_image) {\n\n    const options = {\n      share: false, // default is false\n      closeButton: true, // default is true\n      copyToReference: true, // default is false\n      headers: \"\",  // If it is not provided, it will trigger an exception\n      piccasoOptions: {} // If it is not provided, it will trigger an exception\n    };\n    this.photoViewer.show(decodeURIComponent(_image), '', options);\n  }\n\n  goToProfile() {\n    this.router.navigate(['/agent-profile']);\n  }\n\n  loadData(event) {\n\n    var payload = {\n      \"toUserId\": this.chatTo.id,\n      \"pageFrom\": document.getElementsByClassName('old-bubble').length,\n      \"pageSize\": 10\n    };\n\n    this.service.getChatHistory(payload).subscribe(_res => {\n      //this.oldMsgs = _res;\n      event.target.complete();\n      _res.forEach(_item => {\n        _item.reverse();\n        _item.forEach(_itm => {\n          if (_itm.fromUsersId == this.myProfile.usersId) {\n            _itm.cstatus = 'send';\n          } else {\n            _itm.cstatus = 'received';\n          }\n        });\n      });\n      this.oldMsgs.unshift(..._res);\n      //event.target.disabled = true;\n\n      if (document.getElementsByClassName('old-bubble').length < 1) {\n        this.ScrollToBottom();\n      }\n    })\n  }\n}"],"sourceRoot":"webpack:///"}