{"version":3,"sources":["webpack:///src/app/home/home.page.html","webpack:///src/app/home/home-routing.module.ts","webpack:///src/app/home/home.module.ts","webpack:///src/app/home/home.page.scss","webpack:///src/app/home/home.page.ts"],"names":["routes","path","component","HomePageRoutingModule","imports","forChild","exports","HomePageModule","providers","declarations","HomePage","menuCtrl","service","util","oneSignal","helperService","modalCtrl","ngZone","router","date","Date","dummy","Array","farming","domain","slideOpts","initialSlide","speed","spaceBetween","guest","currentLang","getLang","localStorage","getItem","observProfile","subscribe","data","getProfile","generalNotification$","observNoti","_res","console","log","run","generalNotification","JSON","parse","getEvents","removeItem","undefined","navigate","onesignal","appId","googleProjectNumber","getIds","then","setItem","userId","chatService","profileData","categoryList","stringify","_id","queryParams","cid","_type","create","cssClass","componentProps","type","modal","onDidDismiss","role","scanSelectedCat","cat","scanImage","id","goToAnimalSymptoms","present","eventList","item","payload","name","name_ar","icon","event","srcElement","src","selector","template"],"mappings":"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","file":"home-home-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>{{'home' | translate}}</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n     <app-btn-notification></app-btn-notification>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content class=\\\"ion-padding\\\">\\n  <div class=\\\"main\\\">\\n    <div class=\\\"general-noti\\\" *ngIf=\\\"generalNotification\\\">\\n      <div class=\\\"close\\\" (click)=\\\"removeNoti()\\\">\\n          <ion-icon name=\\\"close\\\"></ion-icon>\\n      </div>\\n      <div class=\\\"content\\\">\\n        <ion-label>{{generalNotification.body}}</ion-label>\\n        <ion-text>{{generalNotification.date | date: 'dd MMM, yyyy hh:mm a'}}</ion-text>\\n      </div>\\n    </div>\\n    <div class=\\\"date-wrapper\\\">\\n      <ion-text class=\\\"day\\\">{{date | date: 'EEEE'}}</ion-text> | <ion-text class=\\\"date\\\">{{date | date: 'MMM dd yyyy'}}\\n      </ion-text>\\n    </div>\\n    <app-weather></app-weather>\\n    <div class=\\\"selected-topics\\\" *ngIf=\\\"!guest\\\">\\n      <div class=\\\"sub-title\\\" *ngIf=\\\"farming.length > 0\\\">\\n        <ion-text>{{'topicSelected' | translate}}</ion-text>\\n      </div>\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col size=\\\"3\\\" *ngFor=\\\"let item of farming\\\">\\n            <div class=\\\"item\\\" (click)=\\\"goToTopics(item)\\\">\\n              <ion-img [src]=\\\"path + item.icon\\\" (ionError)=\\\"onError($event)\\\"></ion-img>\\n              <ion-text *ngIf=\\\"currentLang == 'en'\\\">{{item.name}}</ion-text>\\n              <ion-text *ngIf=\\\"currentLang == 'ar'\\\">{{item.name_ar}}</ion-text>\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n      <div *ngIf=\\\"dummy\\\">\\n        <ion-grid class=\\\"ion-no-padding custom-skeleton\\\">\\n          <ion-row>\\n            <ion-col size=\\\"3\\\" *ngFor=\\\"let item of dummy\\\">\\n              <div class=\\\"dimg\\\">\\n                <ion-skeleton-text animated></ion-skeleton-text>\\n              </div>\\n              <ion-label>\\n                <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n              </ion-label>\\n              </ion-col>\\n              </ion-row>\\n        </ion-grid>\\n        </div>\\n    </div>\\n    <div class=\\\"activities ion-margin-top\\\">\\n      <div class=\\\"sub-title\\\">\\n        <ion-text>{{'ADAFSAActivities' | translate}}</ion-text>\\n      </div>  \\n      <ion-slides pager=\\\"true\\\" [options]=\\\"slideOpts\\\">\\n        <ion-slide *ngFor=\\\"let item of eventList\\\">\\n          <div (click)=\\\"goToEvent(item.id)\\\">\\n            <ion-img [src]=\\\"path + item.banner\\\" (ionError)=\\\"onError($event)\\\"></ion-img>\\n            <ion-text *ngIf=\\\"currentLang == 'en'\\\">{{item.title}}</ion-text>\\n            <ion-text *ngIf=\\\"currentLang == 'ar'\\\">{{item.title_ar}}</ion-text>\\n          </div>\\n        </ion-slide>\\n      </ion-slides>\\n      <div class=\\\"no-events\\\" *ngIf=\\\"eventList?.length == 0\\\">\\n        <ion-text>\\n          <strong>{{'noEventsFound' | translate}}</strong>\\n        </ion-text>\\n      </div>\\n    </div>\\n    <div class=\\\"smart-service ion-margin-top\\\">\\n      <div class=\\\"sub-title\\\">\\n        <ion-text>{{'supportingSmartServices' | translate}}</ion-text>\\n      </div>\\n      <div class=\\\"service\\\" (click)=\\\"openModal('1')\\\">\\n        <ion-img src=\\\"./assets/cam-scan.svg\\\" (ionError)=\\\"onError($event)\\\"></ion-img>\\n        <div>\\n          <ion-label>{{'CamScan' | translate}}</ion-label>\\n          <ion-text>{{'UseYourCameraToFindTheTypeOfPest' | translate}}</ion-text>\\n        </div>\\n      </div>\\n      <div class=\\\"service ion-margin-top lang-{{currentLang}}\\\" (click)=\\\"openModal('2')\\\">\\n        <ion-img src=\\\"./assets/animal-diseases.svg\\\" (ionError)=\\\"onError($event)\\\"></ion-img>\\n        <div>\\n          <ion-label>{{'AnimalDiseases' | translate}}</ion-label>\\n          <ion-text>{{'findWhatDiseaseYourAnimalHas' | translate}}</ion-text>\\n        </div>\\n      </div>     \\n    </div>\\n  </div>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\nimport { HomePage } from './home.page';\nimport { CommonComponentPageModule } from '../common-component/common-component.module';\nimport { SharedModule } from '../shared/shared.module';\nimport { OneSignal } from '@ionic-native/onesignal/ngx';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedModule,\n    CommonComponentPageModule,\n    HomePageRoutingModule\n  ],\n  providers:[OneSignal],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","export default \"ion-toolbar {\\n  --border-width: 0 !important;\\n}\\n\\n.general-noti {\\n  padding: 16px 20px 16px 16px;\\n  background: #E94757;\\n  color: #fff;\\n  margin-bottom: 10px;\\n  position: relative;\\n}\\n\\n.general-noti .close {\\n  position: absolute;\\n  top: 4px;\\n  right: 4px;\\n  font-size: 1.2rem;\\n}\\n\\n.general-noti .content {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.general-noti .content ion-label {\\n  font-size: 1.2rem;\\n}\\n\\n.general-noti .content ion-text {\\n  font-size: 0.7rem;\\n  margin-top: 5px;\\n  opacity: 0.7;\\n}\\n\\n.custom-skeleton .dimg ion-skeleton-text {\\n  height: 70px;\\n  width: 80%;\\n  margin: auto;\\n  border-radius: 12px;\\n}\\n\\n.custom-skeleton ion-label ion-skeleton-text {\\n  width: 50% !important;\\n  margin: auto;\\n  margin-top: 8px;\\n  height: 6px;\\n}\\n\\n.selected-topics ion-grid {\\n  padding: 0;\\n  --ion-grid-column-padding: 5px;\\n}\\n\\n.selected-topics ion-grid ion-row {\\n  flex-wrap: nowrap;\\n  overflow-x: scroll !important;\\n  overflow-y: hidden;\\n}\\n\\n.date-wrapper {\\n  padding: 12px;\\n  background: var(--ion-color-primary);\\n  color: #fff;\\n}\\n\\n.date-wrapper .day {\\n  font-weight: bold;\\n}\\n\\n.item {\\n  text-align: center;\\n}\\n\\n.item ion-img {\\n  margin: auto;\\n  background: #F3F3F3;\\n  padding: 2px;\\n  border-radius: 4px;\\n  margin-bottom: 8px;\\n}\\n\\n.item ion-img::part(image) {\\n  height: 64px !important;\\n  width: 64px !important;\\n  -o-object-fit: contain;\\n     object-fit: contain;\\n  border-radius: 2px;\\n  margin: auto;\\n}\\n\\n.item ion-text {\\n  font-size: 12px;\\n  display: inline-block;\\n}\\n\\n.sub-title {\\n  color: #5C6770;\\n  margin-top: 20px;\\n  margin-bottom: 8px;\\n  font-size: 0.8rem;\\n  font-weight: 600;\\n}\\n\\nion-slides {\\n  --bullet-background-active: #ED737E;\\n}\\n\\nion-slides ion-slide {\\n  padding-bottom: 40px;\\n}\\n\\nion-slides ion-slide div {\\n  text-align: left;\\n  font-weight: bold;\\n  width: 100%;\\n}\\n\\nion-slides ion-slide div ion-img {\\n  margin-bottom: 10px;\\n}\\n\\nion-slides ion-slide div ion-img::part(image) {\\n  height: 200px;\\n  width: 100%;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n\\n.service {\\n  display: flex;\\n  background: rgba(184, 205, 194, 0.2);\\n  padding: 16px;\\n  border-radius: 10px;\\n}\\n\\n.service ion-img {\\n  min-width: 70px;\\n  max-width: 70px;\\n  height: 56px;\\n  padding: 3px;\\n}\\n\\n.service.lang-ar div {\\n  margin-left: 0px !important;\\n}\\n\\n.service div {\\n  margin-left: 16px;\\n}\\n\\n.service div ion-label {\\n  font-weight: 600;\\n  font-size: 1.4rem;\\n  display: block;\\n}\\n\\n.service div ion-text {\\n  font-size: 10px;\\n  display: inline-block;\\n}\\n\\n.activities,\\n.smart-service {\\n  margin-top: 24px !important;\\n}\\n\\n.no-events {\\n  height: 200px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: #f0f0f0;\\n}\\n\\n::ng-deep .swiper-pagination {\\n  display: inline-flex !important;\\n}\\n\\n::ng-deep .swiper-pagination-bullet {\\n  width: 50% !important;\\n  border-radius: 2px;\\n  height: 5px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLDRCQUFBO0FBQ0o7O0FBQ0E7RUFDSSw0QkFBQTtFQUNBLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7QUFFSjs7QUFESTtFQUNJLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFVBQUE7RUFDQSxpQkFBQTtBQUdSOztBQURJO0VBQ0ksYUFBQTtFQUNBLHNCQUFBO0FBR1I7O0FBRlE7RUFDSSxpQkFBQTtBQUlaOztBQUZRO0VBQ0ksaUJBQUE7RUFDQSxlQUFBO0VBQ0EsWUFBQTtBQUlaOztBQUlRO0VBQ0ksWUFBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7QUFEWjs7QUFNUTtFQUNJLHFCQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0FBSlo7O0FBVUk7RUFDSSxVQUFBO0VBQ0EsOEJBQUE7QUFQUjs7QUFTUTtFQUNJLGlCQUFBO0VBQ0EsNkJBQUE7RUFDQSxrQkFBQTtBQVBaOztBQVlBO0VBQ0ksYUFBQTtFQUNBLG9DQUFBO0VBQ0EsV0FBQTtBQVRKOztBQVdJO0VBQ0ksaUJBQUE7QUFUUjs7QUFhQTtFQUNJLGtCQUFBO0FBVko7O0FBWUk7RUFFSSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtBQVhSOztBQVlRO0VBQ0ksdUJBQUE7RUFDQSxzQkFBQTtFQUNBLHNCQUFBO0tBQUEsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7QUFWWjs7QUFjSTtFQUNJLGVBQUE7RUFDQSxxQkFBQTtBQVpSOztBQWdCQTtFQUNJLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtBQWJKOztBQWdCQTtFQUdJLG1DQUFBO0FBZko7O0FBaUJJO0VBQ0ksb0JBQUE7QUFmUjs7QUFpQlE7RUFDSSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtBQWZaOztBQWlCWTtFQUNJLG1CQUFBO0FBZmhCOztBQWlCZ0I7RUFDSSxhQUFBO0VBQ0EsV0FBQTtFQUNBLG9CQUFBO0tBQUEsaUJBQUE7QUFmcEI7O0FBc0JBO0VBQ0ksYUFBQTtFQUNBLG9DQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0FBbkJKOztBQXFCSTtFQUNJLGVBQUE7RUFDQSxlQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7QUFuQlI7O0FBdUJRO0VBQ0EsMkJBQUE7QUFyQlI7O0FBeUJJO0VBQ0ksaUJBQUE7QUF2QlI7O0FBeUJRO0VBQ0ksZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7QUF2Qlo7O0FBMEJRO0VBQ0ksZUFBQTtFQUNBLHFCQUFBO0FBeEJaOztBQTZCQTs7RUFFSSwyQkFBQTtBQTFCSjs7QUE2QkE7RUFDSSxhQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtBQTFCSjs7QUE2QkE7RUFDSSwrQkFBQTtBQTFCSjs7QUE2QkE7RUFDSSxxQkFBQTtFQUNBLGtCQUFBO0VBQ0Esc0JBQUE7QUExQkoiLCJmaWxlIjoic3JjL2FwcC9ob21lL2hvbWUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLXRvb2xiYXIge1xuICAgIC0tYm9yZGVyLXdpZHRoOiAwICFpbXBvcnRhbnQ7XG59XG4uZ2VuZXJhbC1ub3RpIHtcbiAgICBwYWRkaW5nOiAxNnB4IDIwcHggMTZweCAxNnB4O1xuICAgIGJhY2tncm91bmQ6ICNFOTQ3NTc7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgLmNsb3NlIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDRweDtcbiAgICAgICAgcmlnaHQ6IDRweDtcbiAgICAgICAgZm9udC1zaXplOiAxLjJyZW07XG4gICAgfVxuICAgIC5jb250ZW50e1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBpb24tbGFiZWx7XG4gICAgICAgICAgICBmb250LXNpemU6IDEuMnJlbTtcbiAgICAgICAgfVxuICAgICAgICBpb24tdGV4dCB7XG4gICAgICAgICAgICBmb250LXNpemU6IC43cmVtO1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogNXB4O1xuICAgICAgICAgICAgb3BhY2l0eTogLjc7XG5cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLmN1c3RvbS1za2VsZXRvbiB7XG4gICAgLmRpbWcge1xuICAgICAgICBpb24tc2tlbGV0b24tdGV4dCB7XG4gICAgICAgICAgICBoZWlnaHQ6IDcwcHg7XG4gICAgICAgICAgICB3aWR0aDogODAlO1xuICAgICAgICAgICAgbWFyZ2luOiBhdXRvO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlvbi1sYWJlbCB7XG4gICAgICAgIGlvbi1za2VsZXRvbi10ZXh0IHtcbiAgICAgICAgICAgIHdpZHRoOiA1MCUgIWltcG9ydGFudDtcbiAgICAgICAgICAgIG1hcmdpbjogYXV0bztcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDhweDtcbiAgICAgICAgICAgIGhlaWdodDogNnB4O1xuICAgICAgICB9XG4gICAgfVxufVxuXG4uc2VsZWN0ZWQtdG9waWNzIHtcbiAgICBpb24tZ3JpZCB7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIC0taW9uLWdyaWQtY29sdW1uLXBhZGRpbmc6IDVweDtcblxuICAgICAgICBpb24tcm93IHtcbiAgICAgICAgICAgIGZsZXgtd3JhcDogbm93cmFwO1xuICAgICAgICAgICAgb3ZlcmZsb3cteDogc2Nyb2xsICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICBvdmVyZmxvdy15OiBoaWRkZW47XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi5kYXRlLXdyYXBwZXIge1xuICAgIHBhZGRpbmc6IDEycHg7XG4gICAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICAgIGNvbG9yOiAjZmZmO1xuXG4gICAgLmRheSB7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIH1cbn1cblxuLml0ZW0ge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcblxuICAgIGlvbi1pbWcge1xuICAgICAgICAvLyB3aWR0aDogODAlO1xuICAgICAgICBtYXJnaW46IGF1dG87XG4gICAgICAgIGJhY2tncm91bmQ6ICNGM0YzRjM7XG4gICAgICAgIHBhZGRpbmc6IDJweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7XG4gICAgICAgICY6OnBhcnQoaW1hZ2Upe1xuICAgICAgICAgICAgaGVpZ2h0OiA2NHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICB3aWR0aDogNjRweCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgb2JqZWN0LWZpdDogY29udGFpbjtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgICAgICAgICAgIG1hcmdpbjogYXV0bztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlvbi10ZXh0IHtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgfVxufVxuXG4uc3ViLXRpdGxlIHtcbiAgICBjb2xvcjogIzVDNjc3MDtcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDhweDtcbiAgICBmb250LXNpemU6IC44cmVtO1xuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG5cbmlvbi1zbGlkZXMge1xuICAgIC8vIC0tYnVsbGV0LWJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgIC8vIC0tYnVsbGV0LWJhY2tncm91bmQtYWN0aXZlOiB0cmFuc3BhcmVudDtcbiAgICAtLWJ1bGxldC1iYWNrZ3JvdW5kLWFjdGl2ZTogI0VENzM3RTtcblxuICAgIGlvbi1zbGlkZSB7XG4gICAgICAgIHBhZGRpbmctYm90dG9tOiA0MHB4O1xuXG4gICAgICAgIGRpdiB7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcblxuICAgICAgICAgICAgaW9uLWltZyB7XG4gICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcblxuICAgICAgICAgICAgICAgICY6OnBhcnQoaW1hZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAyMDBweDtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC1maXQ6IGNvdmVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLnNlcnZpY2Uge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYmFja2dyb3VuZDogcmdiKDE4NCAyMDUgMTk0IC8gLjIpO1xuICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcblxuICAgIGlvbi1pbWcge1xuICAgICAgICBtaW4td2lkdGg6IDcwcHg7XG4gICAgICAgIG1heC13aWR0aDogNzBweDtcbiAgICAgICAgaGVpZ2h0OiA1NnB4O1xuICAgICAgICBwYWRkaW5nOiAzcHg7XG4gICAgfVxuXG4gICAgJi5sYW5nLWFye1xuICAgICAgICBkaXYge1xuICAgICAgICBtYXJnaW4tbGVmdDogMHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkaXYge1xuICAgICAgICBtYXJnaW4tbGVmdDogMTZweDtcblxuICAgICAgICBpb24tbGFiZWwge1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMS40cmVtO1xuICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIH1cblxuICAgICAgICBpb24tdGV4dCB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEwcHg7XG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi5hY3Rpdml0aWVzLFxuLnNtYXJ0LXNlcnZpY2Uge1xuICAgIG1hcmdpbi10b3A6IDI0cHggIWltcG9ydGFudDtcbn1cblxuLm5vLWV2ZW50cyB7XG4gICAgaGVpZ2h0OiAyMDBweDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYmFja2dyb3VuZDogI2YwZjBmMDtcbn1cblxuOjpuZy1kZWVwIC5zd2lwZXItcGFnaW5hdGlvbiB7XG4gICAgZGlzcGxheTogaW5saW5lLWZsZXggIWltcG9ydGFudDtcbn1cblxuOjpuZy1kZWVwIC5zd2lwZXItcGFnaW5hdGlvbi1idWxsZXQge1xuICAgIHdpZHRoOiA1MCUgIWltcG9ydGFudDtcbiAgICBib3JkZXItcmFkaXVzOiAycHg7XG4gICAgaGVpZ2h0OiA1cHggIWltcG9ydGFudDtcbn0iXX0= */\";","import { Component, DoCheck, NgZone, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { MenuController, ModalController } from '@ionic/angular';\nimport { ApiService } from '../_services/api.service';\nimport { UtilService } from '../_services/util.service';\nimport { environment } from 'src/environments/environment';\nimport { CategoryModalComponent } from '../common-component/category-modal/category-modal.component';\nimport { OneSignal } from '@ionic-native/onesignal/ngx';\nimport { HelperService } from '../_services/helper.service';\nimport { Observable, Subject } from 'rxjs';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.page.html',\n  styleUrls: ['./home.page.scss'],\n})\n\nexport class HomePage implements OnInit, DoCheck {\n  date: Date = new Date();\n  dummy = Array(4);\n  profileData: any;\n  eventList: any;\n  farming: any = [];\n  path = environment.domain;\n  scanSelectedCat: any;\n  slideOpts = {\n    initialSlide: 0,\n    speed: 400,\n    spaceBetween: 10\n  };\n  generalNotification: any;\n  generalNotification$: Observable<any>;\n  \n  currentLang: any;\n  guest: boolean = false;\n\n  constructor(private menuCtrl: MenuController,\n    private service: ApiService,\n    private util: UtilService,\n    private oneSignal: OneSignal,\n    private helperService: HelperService,\n    private modalCtrl: ModalController,\n    private ngZone: NgZone,\n    private router: Router) {\n   \n    this.currentLang = this.helperService.getLang();\n    if (localStorage.getItem('guest') == '1') {\n      this.guest = true;\n    } else {\n      this.util.observProfile().subscribe(data => {\n        this.getProfile();\n      });\n    }\n  }\n\n  async ngOnInit() {\n    this.generalNotification$ = this.util.observNoti();\n    this.util.observNoti().subscribe(_res => {\n      console.log('observNotify', _res);\n      this.ngZone.run(() => {\n        this.generalNotification = JSON.parse(localStorage.getItem('generalNotifications'));\n      })\n      console.log('generalNotification', this.generalNotification);\n    })\n  }\n\n  ionViewWillEnter() {\n    if (localStorage.getItem('guest') == '1') {\n      this.guest = true;\n      this.getEvents();\n    } else {\n      this.farming = [];\n      this.getProfile();\n      this.getEvents();\n      this.generalNotification = JSON.parse(localStorage.getItem('generalNotifications'));\n    }\n  }\n\n  ngDoCheck() {\n    //this.generalNotification = JSON.parse(localStorage.getItem('generalNotifications'));\n  }\n\n  removeNoti() {\n    localStorage.removeItem('generalNotifications');\n    this.generalNotification = undefined;\n  }\n\n  toggleMenu() {\n    // this.menuCtrl.toggle();\n    this.router.navigate(['/filter-subject']);\n  }\n\n  getProfile() {\n    // this.helperService.show();\n    this.service.getProfile().subscribe(_res => {\n      // this.helperService.hide();\n      console.log('appid', environment.onesignal.appId);\n      console.log('googlenumnner', environment.onesignal.googleProjectNumber);\n      this.oneSignal.getIds().then((data) => {\n        console.log('iddddd', data);\n        localStorage.setItem('fcm', data.userId);\n      });\n      localStorage.removeItem('currentUser');\n      this.util.chatService();\n      this.profileData = _res;\n      this.farming = _res.categoryList;\n      this.dummy = [];\n      localStorage.setItem('currentUser', JSON.stringify(_res));\n    })\n  }\n\n  scanImage(_id) {\n    this.router.navigate(['/scan-image'], { queryParams: { cid: _id } })\n  }\n\n  async openModal(_type) {\n    //this.router.navigate(['add-new-address']);\n    const modal = await this.modalCtrl.create({\n      component: CategoryModalComponent,\n      cssClass: 'category-modal',\n      componentProps: {type: _type}\n    });\n    modal.onDidDismiss()\n      .then((data) => {\n        if (data.data && data.role == '1') {\n          this.scanSelectedCat = data.data.cat;\n          this.scanImage(this.scanSelectedCat.id);\n        }else if (data.data && data.role == '2') {\n          this.goToAnimalSymptoms();\n        }\n      })       \n    return await modal.present();\n  }\n\n  getEvents() {\n    this.eventList = [];\n    this.service.getEvents().subscribe(_res => {\n      this.eventList = _res;\n    })\n  }\n\n  goToTopics(item) {\n    var payload = { id: item.id, name: item.name,  name_ar: item.name_ar, icon: item.icon };\n    localStorage.setItem('selectedTopic', JSON.stringify(payload))\n    this.router.navigate(['/tabs/topic'], { queryParams: { id: item.id } });\n  }\n\n  goToEvent(id) {\n    this.router.navigate(['/event-details'], { queryParams: { id } })\n  }\n\n  goToAnimalSymptoms(){\n    this.router.navigate(['/animal-symptoms'])\n  }\n\n  onError(event) {\n    event.srcElement.src = '/assets/no-image.svg';\n  }\n}"]}